<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Himshim ¬∑ Developer Portfolio</title>
<meta name="description" content="Open-source developer portfolio powered by GitHub API" />

<!-- CSP (GitHub Pages compatible, allows inline JS) -->
<meta http-equiv="Content-Security-Policy"
content="
default-src 'self';
img-src 'self' https://github.com https://avatars.githubusercontent.com;
script-src 'self' 'unsafe-inline';
style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
font-src https://fonts.gstatic.com;
connect-src https://api.github.com;
">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0a0f14;--card:#0f1923;--text:#e6edf3;--muted:#9fb0c0;
  --border:#1e2936;--chip:#111827;--chipText:#cbd5e1;
  --brand:#7c3aed;--brand2:#06b6d4;
  --shadow:0 12px 32px rgba(0,0,0,.35);
}
:root[data-theme="light"]{
  --bg:#f8fafc;--card:#ffffff;--text:#0f172a;--muted:#475569;
  --border:#e2e8f0;--chip:#f1f5f9;--chipText:#0f172a;
  --shadow:0 10px 24px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{margin:0;font-family:Inter,system-ui;background:var(--bg);color:var(--text)}
a{color:inherit;text-decoration:none}

.container{max-width:1100px;margin:auto;padding:24px}

header{
  position:sticky;top:0;z-index:10;
  background:rgba(10,15,20,.85);
  backdrop-filter:blur(12px);
  border-bottom:1px solid var(--border);
}
.nav{display:flex;justify-content:space-between;align-items:center}
.brand{display:flex;gap:12px;align-items:center}
.avatar{width:40px;height:40px;border-radius:50%;border:1px solid var(--border)}
.btn{
  padding:10px 14px;border-radius:14px;
  border:1px solid var(--border);
  font-weight:700;cursor:pointer;
}
.btn.primary{
  background:linear-gradient(135deg,var(--brand),var(--brand2));
  color:#fff;border:none;
}
.btn:hover{opacity:.9}

.hero{
  display:grid;
  grid-template-columns:96px 1fr;
  gap:18px;
  margin-top:24px;
}
.hero img{
  width:96px;height:96px;
  border-radius:18px;
  border:1px solid var(--border);
}
.meta{display:flex;gap:8px;flex-wrap:wrap}
.pill{
  padding:6px 10px;
  background:var(--chip);
  color:var(--chipText);
  border-radius:999px;
  font-size:12px;
}

.social{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:12px;
}
.iconbtn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  font-weight:700;
}
.iconbtn:hover{background:rgba(255,255,255,.06)}
.icon{width:16px;height:16px}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:16px;
  margin-top:16px;
}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  box-shadow:var(--shadow);
}
.card:hover{transform:translateY(-3px)}
.name{font-weight:800}
.desc{color:var(--muted);margin:8px 0}
.chip{
  background:var(--chip);
  color:var(--chipText);
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
}
.footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
}
.links a{
  padding:8px 10px;
  border-radius:12px;
  border:1px solid var(--border);
  font-weight:700;
  margin-left:6px;
}

footer{
  margin:40px 0;
  text-align:center;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>

<header>
  <div class="container nav">
    <div class="brand">
      <img id="navAvatar" class="avatar" alt="avatar">
      <div>
        <strong id="navName">Himshim</strong><br>
        <span style="font-size:12px;color:var(--muted)">Open-source Developer</span>
      </div>
    </div>
    <div>
      <button id="themeBtn" class="btn">üåì</button>
      <a id="githubBtn" class="btn primary" target="_blank" rel="noopener noreferrer">GitHub</a>
    </div>
  </div>
</header>

<main class="container">

<section class="hero">
  <img id="heroAvatar" alt="avatar">
  <div>
    <h1 id="name"></h1>
    <p id="bio" class="desc"></p>
    <div id="stats" class="meta"></div>

    <!-- SOCIAL LINKS (from old code) -->
    <div class="social">
      <a class="iconbtn" href="https://instagram.com/himshim26" target="_blank" rel="noopener noreferrer">
        üì∏ Instagram
      </a>
      <a class="iconbtn" href="https://twitter.com/himshim26" target="_blank" rel="noopener noreferrer">
        üê¶ X / Twitter
      </a>
      <a class="iconbtn" href="https://www.threads.net/@himshim26" target="_blank" rel="noopener noreferrer">
        üßµ Threads
      </a>
    </div>
  </div>
</section>

<section>
  <h2>‚≠ê Featured Projects</h2>
  <div id="featured" class="grid"></div>
</section>

<section>
  <h2>üì¶ Repositories</h2>
  <div id="repos" class="grid"></div>
</section>

</main>

<footer>
  Powered by GitHub API ¬∑ Hosted on GitHub Pages
</footer>

<script>
const USER = "himshim";

const FEATURED = [
  {
    title:"Pharmagraph Lab",
    desc:"Generate clean graphs from pharmacy instruments",
    repo:"https://github.com/himshim/Pharmagraph-lab",
    live:"https://pharmagraph-lab.vercel.app/",
    tags:["Pharmacy","Graphs","Web"]
  },
  {
    title:"Virtual Analytical Lab",
    desc:"Interactive analytical chemistry simulations",
    repo:"https://github.com/himshim/virtual-analytical-lab",
    live:"https://himshim.github.io/virtual-analytical-lab/",
    tags:["Simulation","Chemistry","Education"]
  }
];

const $ = s => document.querySelector(s);

function projectCard(p){
  const d=document.createElement("div");
  d.className="card";
  d.innerHTML=`
    <div class="name">${p.title}</div>
    <div class="desc">${p.desc}</div>
    <div class="meta">${p.tags.map(t=>`<span class="chip">${t}</span>`).join("")}</div>
    <div class="footer">
      <span></span>
      <div class="links">
        ${p.live?`<a href="${p.live}" target="_blank">Live</a>`:""}
        <a href="${p.repo}" target="_blank">Code</a>
      </div>
    </div>`;
  return d;
}

async function fetchJSON(url){
  const r = await fetch(url);
  if(!r.ok) throw new Error("API error");
  return r.json();
}

async function init(){
  const user = await fetchJSON(`https://api.github.com/users/${USER}`);
  $("#navAvatar").src = `https://github.com/${USER}.png`;
  $("#heroAvatar").src = `https://github.com/${USER}.png`;
  $("#navName").textContent = user.login;
  $("#githubBtn").href = user.html_url;
  $("#name").textContent = user.name || user.login;
  $("#bio").textContent = user.bio || "";

  ["üë• "+user.followers+" followers","üì¶ "+user.public_repos+" repos"]
    .forEach(t=>{
      const s=document.createElement("span");
      s.className="pill"; s.textContent=t;
      $("#stats").appendChild(s);
    });

  FEATURED.forEach(p=>$("#featured").appendChild(projectCard(p)));

  const repos = await fetchJSON(`https://api.github.com/users/${USER}/repos?per_page=100&sort=updated`);
  repos.forEach(r=>{
    $("#repos").appendChild(projectCard({
      title:r.name,
      desc:r.description || "No description",
      repo:r.html_url,
      live:r.homepage,
      tags:[r.language || "Code"]
    }));
  });
}

$("#themeBtn").onclick = ()=>{
  document.documentElement.dataset.theme =
    document.documentElement.dataset.theme==="dark" ? "light" : "dark";
};

init().catch(console.error);
</script>

</body>
</html>
